# Testing

The current set of unit tests are helpful but many are out of date.  We need a more comprehensive set of tests for the Rust library. The plan is to build a solid set of tests on the new streams-based API, then build everything else on that.

There is an open issue to generate test images from clean non-c2pa images. When images are checked in with manifests, they rapidly get out of date. A set of older manifests and third-party images is still needed for testing, but they need not be in the SDK.  

We need:

- A test assets folder with one public domain image in each asset format we support.
- A tool, like `make_test_images`, to generate different kinds of manifests for testing. We should maintain an archive of the manifest_store JSON generated by the previous build and compare the old build with the new ones for any significant deltas. The tool needs to ignore changes due to new GUIDs, dates, and JSON object field order.

The `make_test_images` crate has been updated to do this by default. We may make a policy to run the test comparison nightly.